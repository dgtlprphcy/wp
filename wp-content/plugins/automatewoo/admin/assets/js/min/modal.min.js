jQuery(function($){AutomateWoo.Modal={init:function(){$(document.body).on("click",".js-close-automatewoo-modal",this.close),$(document.body).on("click",".automatewoo-modal-overlay",this.close),$(document.body).on("click",".js-open-automatewoo-modal",this.handle_link),$(window).resize(function(){AutomateWoo.Modal.position()}),$(document).keydown(function(e){27==e.keyCode&&AutomateWoo.Modal.close()})},handle_link:function(e){e.preventDefault();var $a=$(this),type=$a.data("automatewoo-modal-type"),size=$a.data("automatewoo-modal-size"),url=$a.attr("href");"ajax"===type&&(AutomateWoo.Modal.open(type,size),AutomateWoo.Modal.loading(),$.post(url,{},function(response){AutomateWoo.Modal.contents(response)}))},open:function(type,size){var classes=["automatewoo-modal--type-"+type];size&&classes.push("automatewoo-modal--size-"+size),$(document.body).addClass("automatewoo-modal-open").append('<div class="automatewoo-modal-overlay"></div>'),$(document.body).append('<div class="automatewoo-modal '+classes+'"><div class="automatewoo-modal__contents"><div class="automatewoo-modal__header"></div></div><div class="automatewoo-icon-close js-close-automatewoo-modal"></div></div>'),this.position()},loading:function(){$(document.body).addClass("automatewoo-modal-loading")},contents:function(contents){$(document.body).removeClass("automatewoo-modal-loading"),$(".automatewoo-modal__contents").html(contents),AW.initTooltips(),this.position()},close:function(){$(document.body).removeClass("automatewoo-modal-open automatewoo-modal-loading"),$(".automatewoo-modal, .automatewoo-modal-overlay").remove()},position:function(){var $modal=$(".automatewoo-modal"),$modal_body=$(".automatewoo-modal__body"),$modal_header=$(".automatewoo-modal__header");$modal_body.removeProp("style");var modal_header_height=$modal_header.outerHeight(),modal_height=$modal.height(),modal_width=$modal.width(),modal_contents_height=$modal_body.outerHeight()+modal_header_height;$modal.css({"margin-left":-modal_width/2,"margin-top":-modal_height/2}),modal_height<modal_contents_height-5&&$modal_body.height(modal_height-modal_header_height)}},AutomateWoo.Modal.init()});